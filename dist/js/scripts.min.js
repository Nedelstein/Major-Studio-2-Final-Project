var Delaunay;!function(){"use strict";var e=1/1048576;function a(a,t,i,r){var n,o,l,p,d,s,c,u,m,h,f=a[t][0],y=a[t][1],w=a[i][0],$=a[i][1],g=a[r][0],x=a[r][1],v=Math.abs(y-$),S=Math.abs($-x);if(!(v<e&&S<e))return v<e?o=(p=-(g-w)/(x-$))*((n=(w+f)/2)-(s=(w+g)/2))+(u=($+x)/2):S<e?o=(l=-(w-f)/($-y))*((n=(g+w)/2)-(d=(f+w)/2))+(c=(y+$)/2):(n=((l=-(w-f)/($-y))*(d=(f+w)/2)-(p=-(g-w)/(x-$))*(s=(w+g)/2)+(u=($+x)/2)-(c=(y+$)/2))/(l-p),o=v>S?l*(n-d)+c:p*(n-s)+u),{i:t,j:i,k:r,x:n,y:o,r:(m=w-n)*m+(h=$-o)*h}}function t(e){var a,t,i,r,n,o;for(t=e.length;t;)for(r=e[--t],i=e[--t],a=t;a;)if(o=e[--a],i===(n=e[--a])&&r===o||i===o&&r===n){e.splice(t,2),e.splice(a,2);break}}Delaunay={triangulate:function(i,r){var n,o,l,p,d,s,c,u,m,h,f,y,w=i.length;if(w<3)return[];if(i=i.slice(0),r)for(n=w;n--;)i[n]=i[n][r];for(l=new Array(w),n=w;n--;)l[n]=n;if(l.sort(function(e,a){return i[a][0]-i[e][0]}),p=function(e){var a,t,i,r,n,o,l=Number.POSITIVE_INFINITY,p=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(a=e.length;a--;)e[a][0]<l&&(l=e[a][0]),e[a][0]>d&&(d=e[a][0]),e[a][1]<p&&(p=e[a][1]),e[a][1]>s&&(s=e[a][1]);return i=s-p,[[(n=l+.5*(t=d-l))-20*(r=Math.max(t,i)),(o=p+.5*i)-r],[n,o+20*r],[n+20*r,o-r]]}(i),i.push(p[0],p[1],p[2]),null==a(i,w+0,w+1,w+2))return[];for(d=[a(i,w+0,w+1,w+2)],s=[],c=[],n=l.length;n--;c.length=0){for(y=l[n],o=d.length;o--;)(u=i[y][0]-d[o].x)>0&&u*u>d[o].r?(s.push(d[o]),d.splice(o,1)):u*u+(m=i[y][1]-d[o].y)*m-d[o].r>e||(c.push(d[o].i,d[o].j,d[o].j,d[o].k,d[o].k,d[o].i),d.splice(o,1));for(t(c),o=c.length;o;)f=c[--o],h=c[--o],d.push(a(i,h,f,y))}for(n=d.length;n--;)s.push(d[n]);for(d.length=0,n=s.length;n--;)s[n].i<w&&s[n].j<w&&s[n].k<w&&d.push(s[n].i,s[n].j,s[n].k);return d},contains:function(e,a){if(a[0]<e[0][0]&&a[0]<e[1][0]&&a[0]<e[2][0]||a[0]>e[0][0]&&a[0]>e[1][0]&&a[0]>e[2][0]||a[1]<e[0][1]&&a[1]<e[1][1]&&a[1]<e[2][1]||a[1]>e[0][1]&&a[1]>e[1][1]&&a[1]>e[2][1])return null;var t=e[1][0]-e[0][0],i=e[2][0]-e[0][0],r=e[1][1]-e[0][1],n=e[2][1]-e[0][1],o=t*n-i*r;if(0===o)return null;var l=(n*(a[0]-e[0][0])-i*(a[1]-e[0][1]))/o,p=(t*(a[1]-e[0][1])-r*(a[0]-e[0][0]))/o;return l<0||p<0||l+p>1?null:[l,p]}},"undefined"!=typeof module&&(module.exports=Delaunay)}(),$.fn.isInViewport=function(){let e=$(this).offset().top,a=e+$(this).outerHeight(),t=$(window).scrollTop(),i=t+$(window).height();return a>t&&e<i},$(window).on("resize scroll",function(){$("section").each(function(){let e=$(this).attr("id");$(this).isInViewport()?$("#link-"+e).addClass(e+"-active"):$("#link-"+e).removeClass(e+"-active")})});let river,allParticles=[],maxLevel=5,useFill=!1,data=[];function setup(){let e=createCanvas(windowWidth,windowHeight);e.position(0,0),e.parent("sketch-holder"),colorMode(HSB),background(199.2,30,80),(river=loadImage("images/river1.png")).resize(169,1e3)}function windowResized(){resizeCanvas(windowWidth,windowHeight)}function draw(){river.resize(169,1120),noStroke(),fill(199.2,30,80,20),rect(0,0,width,height),image(river,width/9,-10),image(river,width/3,-10),image(river,width/1.65,-10),image(river,width/1.15,-10);for(let e=allParticles.length-1;e>-1;e--)allParticles[e].move(),allParticles[e].vel.mag()<.01&&allParticles.splice(e,1);if(allParticles.length>0){data=Delaunay.triangulate(allParticles.map(function(e){return[e.pos.x,e.pos.y]})),strokeWeight(.3);for(let e=0;e<data.length;e+=3){let a=allParticles[data[e]],t=allParticles[data[e+1]],i=allParticles[data[e+2]],r=75;dist(a.pos.x,a.pos.y,t.pos.x,t.pos.y)>r||(dist(t.pos.x,t.pos.y,i.pos.x,i.pos.y)>r||dist(a.pos.x,a.pos.y,i.pos.x,i.pos.y)>r||(noFill(),stroke(160+1.5*a.life,100,200),triangle(a.pos.x,a.pos.y,t.pos.x,t.pos.y,i.pos.x,i.pos.y)))}}allParticles.push(new Particle(mouseX,mouseY,maxLevel))}function Particle(e,a,t){this.level=t,this.life=0,this.pos=new p5.Vector(e,a),this.vel=p5.Vector.random2D(),this.vel.mult(map(this.level,0,maxLevel,5,2)),this.move=function(){if(this.life++,this.vel.mult(.9),this.pos.add(this.vel),this.life%10==0&&this.level>0){this.level-=1;let e=new Particle(this.pos.x,this.pos.y,this.level-1);allParticles.push(e)}}}let backgroundAudio=new Audio("audio/backgroundNoise.mp3");function addImage(e,a){let t=document.createElement("img");t.src=e;let i=document.getElementsByClassName(a);$(i).append(t)}function shake(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&($(".dad3").effect("shake",{distance:2}),$(".bro3").effect("shake",{distance:2}),$(".sis3").fadeOut(20),$(".sis3gif").fadeIn(100),$("#anxious").typeIt({speed:100,cursor:!1}).tiType("Anxious.").tiPause(2500).tiDelete(50),$("#frantic").typeIt({startDelay:500,speed:100,cursor:!1}).tiType("Frantic.").tiPause(2500).tiDelete(50))},!1);let a=47,t=48}function typeItDie(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&$("#dieText").typeIt({speed:100,deleteSpeed:50,cursor:!1}).tiType("I don't want to die.").tiPause(2500).tiDelete(50)});let a=62,t=63}function shimmer(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&($(".bro3").animate({opacity:.1},350),$(".bro3").animate({opacity:1},350))});let a=32,t=33}function typeItBroDrawing(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&$("#broDrawing").typeIt({speed:100,deleteSpeed:50,cursor:!1}).tiType("My brother drew the picture.").tiPause(2500).tiDelete(50)});let a=63,t=63.5}function typeItSisDrawing(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&$("#sisDrawing").typeIt({speed:100,deleteSpeed:50,cursor:!1}).tiType("My sister drew the picture.").tiPause(2500).tiDelete(50)});let a=4,t=4.5}function typeItDadStay(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&$("#dadStay").typeIt({speed:100,deleteSpeed:50,cursor:!1}).tiType("Stayed with me for years.").tiPause(2500).tiDelete(50)});let a=107,t=107.5}function addNoahgif(e){e.addEventListener("timeupdate",function(){this.currentTime>a&&this.currentTime<t&&($(".bro4").fadeOut(20,function(){$(this).hide()}),$(".bro4gif").fadeIn(100))},!1);let a=1,t=2}backgroundAudio.volume=.3,$(document).ready(function(){$("#modal-close").hover(function(){$(this).animate({opacity:1},500)},function(){$(this).animate({opacity:.8},500)});document.getElementById("modal-splash");document.getElementById("modal-close").onclick=function(){backgroundAudio.play(),backgroundAudio.loop=!0,$(this).parent().fadeOut(800),setTimeout(function(){document.getElementById("modal-splash").style.display="none"},800)}}),$(window).on("beforeunload",function(){$(window).scrollTop(0)}),$(document).ready(function(){let e=new Request("./chapters.json");fetch(e).then(function(e){return e.json()}).then(function(e){console.log(e);let a=new Audio(e.marlena.ch1),t=new Audio(e.marlena.ch2),i=new Audio(e.marlena.ch3),r=new Audio(e.marlena.ch4),n=new Audio(e.marlena.ch5),o=new Audio(e.marlena.ch6),l=new Audio(e.noah.ch1),p=new Audio(e.noah.ch2),d=new Audio(e.noah.ch3),s=new Audio(e.noah.ch4),c=new Audio(e.noah.ch5),u=new Audio(e.noah.ch6),m=new Audio(e.dad.ch1),h=new Audio(e.dad.ch2),f=new Audio(e.dad.ch3),y=new Audio(e.dad.ch4),w=new Audio(e.dad.ch5),g=new Audio(e.dad.ch6),x=new Audio(e.mom.ch1),v=new Audio(e.mom.ch2),S=new Audio(e.mom.ch3),I=new Audio(e.mom.ch4),T=new Audio(e.mom.ch5),b=new Audio(e.mom.ch6);$(".sis1").hover(function(){$(this).animate({opacity:1},500),a.play()},function(){$(this).animate({opacity:.5},500),a.pause()}),$(".bro1").hover(function(){$(this).animate({opacity:1},500),l.play()},function(){$(this).animate({opacity:.5},500),l.pause()}),$(".dad1").hover(function(){$(this).animate({opacity:1},500),m.play()},function(){$(this).animate({opacity:.5},500),m.pause()}),$(".mom1").hover(function(){$(this).animate({opacity:1},500),x.play()},function(){$(this).animate({opacity:.5},500),x.pause()}),$(".sis2").hover(function(){$(this).animate({opacity:1},500),t.play()},function(){$(this).animate({opacity:.5},500),t.pause()}),$(".bro2").hover(function(){$(this).animate({opacity:1},500),p.play()},function(){$(this).animate({opacity:.5},500),p.pause()}),$(".dad2").hover(function(){$(this).animate({opacity:1},500),h.play()},function(){$(this).animate({opacity:.5},500),h.pause()}),$(".mom2").hover(function(){$(this).animate({opacity:1},500),v.play()},function(){$(this).animate({opacity:.5},500),v.pause()}),$(".sis3").hover(function(){$(this).animate({opacity:1},500),i.play()},function(){$(this).animate({opacity:.5},500),i.pause()}),$(".sis3gif").hover(function(){$(this).animate({opacity:1},500),i.play()},function(){$(this).animate({opacity:.5},500),i.pause()}),shake(i),$(".bro3").hover(function(){$(this).animate({opacity:1},500),d.play()},function(){$(this).animate({opacity:.5},500),d.pause()}),$(".dad3").hover(function(){$(this).animate({opacity:1},500),f.play()},function(){$(this).animate({opacity:.5},500),f.pause()}),typeItDie(f),$(".mom3").hover(function(){$(this).animate({opacity:1},500),S.play()},function(){$(this).animate({opacity:.5},500),S.pause()}),shimmer(d),$(".sis4").hover(function(){$(this).animate({opacity:1},500),r.play()},function(){$(this).animate({opacity:.5},500),r.pause()}),$(".bro4").hover(function(){$(this).animate({opacity:1},500),s.play()},function(){$(this).animate({opacity:.5},500),s.pause()}),$(".bro4gif").hover(function(){$(this).animate({opacity:1},500),s.play()},function(){$(this).animate({opacity:.5},500),s.pause()}),$(".dad4").hover(function(){$(this).animate({opacity:1},500),y.play()},function(){$(this).animate({opacity:.5},500),y.pause()}),$(".mom4").hover(function(){$(this).animate({opacity:1},500),I.play()},function(){$(this).animate({opacity:.5},500),I.pause()}),$(".sis5").hover(function(){$(this).animate({opacity:1},500),n.play()},function(){$(this).animate({opacity:.5},500),n.pause()}),$(".bro5").hover(function(){$(this).animate({opacity:1},500),c.play()},function(){$(this).animate({opacity:.5},500),c.pause()}),$(".dad5").hover(function(){$(this).animate({opacity:1},500),w.play()},function(){$(this).animate({opacity:.5},500),w.pause()}),$(".mom5").hover(function(){$(this).animate({opacity:1},500),T.play()},function(){$(this).animate({opacity:.5},500),T.pause()}),$(".sis6").hover(function(){$(this).animate({opacity:1},500),o.play()},function(){$(this).animate({opacity:.5},500),o.pause(),console.log(o.currentTime)}),typeItBroDrawing(o),$(".bro6").hover(function(){$(this).animate({opacity:1},500),u.play()},function(){$(this).animate({opacity:.5},500),u.pause()}),typeItSisDrawing(u),$(".dad6").hover(function(){$(this).animate({opacity:1},500),g.play()},function(){$(this).animate({opacity:.5},500),g.pause()}),typeItDadStay(g),$(".mom6").hover(function(){$(this).animate({opacity:1},500),b.play()},function(){$(this).animate({opacity:.5},500),b.pause()}),addImage(e.dad.img,"dad1"),addImage(e.noah.img,"bro1"),addImage(e.marlena.img,"sis1"),addImage(e.mom.img,"mom1"),addImage(e.dad.img,"dad2"),addImage(e.noah.gif,"bro2"),addImage(e.marlena.img,"sis2"),addImage(e.mom.img,"mom2"),addImage(e.dad.gif,"dad3"),addImage(e.noah.gif,"bro3"),addImage(e.marlena.img,"sis3"),addImage(e.mom.img,"mom3"),addImage(e.marlena.gif,"sis3gif"),addImage(e.dad.gif,"dad4"),addImage(e.noah.gif,"bro4"),addImage(e.marlena.gif,"sis4"),addImage(e.mom.gif,"mom4"),addImage(e.dad.gif,"dad5"),addImage(e.noah.gif,"bro5"),addImage(e.marlena.gif,"sis5"),addImage(e.mom.gif,"mom5"),addImage(e.dad.gif,"dad6"),addImage(e.noah.gif,"bro6"),addImage(e.marlena.gif,"sis6"),addImage(e.mom.gif,"mom6")})}),$(function(){$("body").mousemove(function(e){$(".cursor").show().css({left:e.clientX,top:e.clientY})}).mouseout(function(){$(".cursor").hide()})});let rellaxBanner1=new Rellax(".banner1",{speed:5,wrapper:".part1",relativeToWrapper:!0}),rellaxBanner2=new Rellax(".banner2",{speed:5,wrapper:".part2",relativeToWrapper:!0}),rellaxBanner3=new Rellax(".banner3",{speed:5,wrapper:".part3",relativeToWrapper:!0}),rellaxBanner4=new Rellax(".banner4",{speed:5,wrapper:".part4",relativeToWrapper:!0}),rellaxBanner5=new Rellax(".banner5",{speed:5,wrapper:".part5",relativeToWrapper:!0}),rellaxBanner6=new Rellax(".banner6",{speed:5,wrapper:".part6",relativeToWrapper:!0}),rellaxSis=new Rellax(".rellaxSis",{speed:randScrollSpeed(-6,6),wrapper:".part1",relativeToWrapper:!0}),rellaxBro=new Rellax(".rellaxBro",{speed:randScrollSpeed(-6,6),wrapper:".part1",relativeToWrapper:!0}),rellaxDad=new Rellax(".rellaxDad",{speed:randScrollSpeed(-6,6),wrapper:".part1",relativeToWrapper:!0}),rellaxMom=new Rellax(".rellaxMom",{speed:randScrollSpeed(-6,6),wrapper:".part1",relativeToWrapper:!0}),rellaxSis2=new Rellax(".rellaxSis2",{speed:randScrollSpeed(-6,6),wrapper:".part2",relativeToWrapper:!0}),rellaxBro2=new Rellax(".rellaxBro2",{speed:randScrollSpeed(-6,6),wrapper:".part2",relativeToWrapper:!0}),rellaxMom2=new Rellax(".rellaxMom2",{speed:randScrollSpeed(-6,6),wrapper:".part2",relativeToWrapper:!0}),rellaxDad2=new Rellax(".rellaxDad2",{speed:randScrollSpeed(-6,6),wrapper:".part2",relativeToWrapper:!0}),rellaxSis3=new Rellax(".rellaxSis3",{speed:randScrollSpeed(-6,6),wrapper:".part3",relativeToWrapper:!0}),rellaxBro3=new Rellax(".rellaxBro3",{speed:randScrollSpeed(-6,6),wrapper:".part3",relativeToWrapper:!0}),rellaxMom3=new Rellax(".rellaxMom3",{speed:randScrollSpeed(-6,6),wrapper:".part3",relativeToWrapper:!0}),rellaxDad3=new Rellax(".rellaxDad3",{speed:randScrollSpeed(-6,6),wrapper:".part3",relativeToWrapper:!0}),rellaxSis4=new Rellax(".rellaxSis4",{speed:randScrollSpeed(-6,6),wrapper:".part4",relativeToWrapper:!0}),rellaxBro4=new Rellax(".rellaxBro4",{speed:randScrollSpeed(-6,6),wrapper:".part4",relativeToWrapper:!0}),rellaxMom4=new Rellax(".rellaxMom4",{speed:randScrollSpeed(-6,6),wrapper:".part4",relativeToWrapper:!0}),rellaxDad4=new Rellax(".rellaxDad4",{speed:randScrollSpeed(-6,6),wrapper:".part4",relativeToWrapper:!0}),rellaxSis5=new Rellax(".rellaxSis5",{speed:randScrollSpeed(-6,6),wrapper:".part5",relativeToWrapper:!0}),rellaxBro5=new Rellax(".rellaxBro5",{speed:randScrollSpeed(-6,6),wrapper:".part5",relativeToWrapper:!0}),rellaxMom5=new Rellax(".rellaxMom5",{speed:randScrollSpeed(-6,6),wrapper:".part5",relativeToWrapper:!0}),rellaxDad5=new Rellax(".rellaxDad5",{speed:randScrollSpeed(-6,6),wrapper:".part5",relativeToWrapper:!0}),rellaxSis6=new Rellax(".rellaxSis6",{speed:randScrollSpeed(-6,6),wrapper:".part6",relativeToWrapper:!0}),rellaxBro6=new Rellax(".rellaxBro6",{speed:randScrollSpeed(-6,6),wrapper:".part6",relativeToWrapper:!0}),rellaxMom6=new Rellax(".rellaxMom6",{speed:randScrollSpeed(-6,6),wrapper:".part6",relativeToWrapper:!0}),rellaxDad6=new Rellax(".rellaxDad6",{speed:randScrollSpeed(-6,6),wrapper:".part6",relativeToWrapper:!0});function randScrollSpeed(e,a){return Math.random()*(a-e)+a}